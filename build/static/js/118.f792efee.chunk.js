"use strict";(self.webpackChunkkanban_board=self.webpackChunkkanban_board||[]).push([[118],{5453:function(e,t,r){var n=r(184);t.Z=function(e){var t=e.type,r=e.className,a=e.onClick,s=e.disabled,o=e.style,l=e.children;return(0,n.jsx)("button",{type:t,className:r,onClick:a,style:o||null,disabled:s||null,children:l})}},1030:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(885),a=r(7175),s=r(535),o=r(2791),l=r(184),c=function(e){var t=e.header,r=e.text,c=(0,o.useState)(!0),i=(0,n.Z)(c,2),u=i[0],d=i[1];function h(){d(!1)}return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(a.u,{appear:!0,show:u,as:o.Fragment,children:(0,l.jsxs)(s.V,{as:"div",className:"relative z-10",onClose:h,children:[(0,l.jsx)(a.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,l.jsx)(a.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsxs)(s.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,l.jsx)(s.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:t}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:r})}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:h,children:"OK"})})]})})})})]})})})},i=function(e){var t=e.error;return(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsx)(c,{header:"Error!",text:t})})}},3503:function(e,t,r){r.d(t,{Z:function(){return o}});var n="Input_input__q9IRk",a="Input_icon__pvUOM",s=r(184),o=function(e){var t=e.label,r=e.icon,o=e.className,l=e.onChange,c=e.value,i=e.iconClass,u=e.style,d=e.type,h=e.min,m=e.max,x=e.placeholder,p=e.error,f=e.errorText;return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("div",{className:"mb-2 mt-4 font-semibold",children:(0,s.jsx)("label",{children:t})}),(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("div",{className:"".concat(a," ").concat(i),children:r}),(0,s.jsx)("input",{className:o,onChange:l,value:c,style:u,type:d,min:h,max:m,placeholder:x}),p&&(0,s.jsx)("p",{className:"text-sm text-red-600 ml-3",children:f})]})]})}},6118:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(8214),a=r(5861),s=r(885),o=r(3503),l=r(5453),c=r(2950),i=r(3098),u=r(1030),d=r(7425),h=r(6856),m=r(6355),x=r(6871),p=r(2791),f=r(9434),b=r(184),g=function(){var e=(0,p.useState)(!0),t=(0,s.Z)(e,2),r=t[0],g=t[1],v=(0,p.useState)(""),y=(0,s.Z)(v,2),j=y[0],k=y[1],w=(0,p.useState)(""),N=(0,s.Z)(w,2),S=N[0],C=N[1],Z=(0,p.useState)(""),T=(0,s.Z)(Z,2),O=T[0],F=T[1],I=(0,p.useState)(""),D=(0,s.Z)(I,2),E=D[0],P=D[1],_=(0,p.useState)(!1),U=(0,s.Z)(_,2),G=U[0],J=U[1],B=(0,p.useState)(!0),M=(0,s.Z)(B,2),H=M[0],R=M[1],V=(0,p.useState)(!1),z=(0,s.Z)(V,2),A=z[0],L=z[1],q=(0,p.useState)(),K=(0,s.Z)(q,2),Q=K[0],W=K[1],X=(0,x.s0)(),Y=(0,f.I0)(),$=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s,o,l,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=0;case 2:if(!(a<t.memberBoards.length)){e.next=20;break}return e.prev=3,e.next=6,fetch("".concat("http://localhost:5000/api","/boards/").concat(t.memberBoards[a]));case 6:return s=e.sent,e.next=9,s.json();case 9:if(o=e.sent,s.ok){e.next=12;break}throw new Error(o.message);case 12:r.push(o.board.id),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:a++,e.next=2;break;case 20:return Y(c.h.setUserBoards(r)),e.prev=21,e.next=24,fetch("".concat("http://localhost:5000/api","/users/").concat(t.username),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,newBoards:r})});case 24:return l=e.sent,e.next=27,l.json();case 27:if(i=e.sent,l.ok){e.next=30;break}throw new Error(i.message);case 30:e.next=34;break;case 32:e.prev=32,e.t1=e.catch(21);case 34:case"end":return e.stop()}}),e,null,[[3,15],[21,32]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s,o,l,i,u,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L(!0),W(),!r){e.next=25;break}return e.prev=4,e.next=7,fetch("".concat("http://localhost:5000/api","/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,password:O})});case 7:return a=e.sent,e.next=10,a.json();case 10:if(s=e.sent,a.ok){e.next=13;break}throw new Error(s.message);case 13:o=new Date((new Date).getTime()+864e5),Y(c.h.authHandler({user:s.user,token:s.token,tokenExpDate:o})),localStorage.setItem("userData",JSON.stringify({user:s.user,token:s.token,expiration:o.toISOString()})),$(s.user),X("/all-boards",{replace:!0}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),W("Something went wrong while logging you in. Please try again later!");case 23:e.next=44;break;case 25:return e.prev=25,l=Math.floor(200*Math.random()+1),e.next=29,fetch("".concat("http://localhost:5000/api","/users/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,name:S,username:E,password:O,image:"https://picsum.photos/id/".concat(l,"/200")})});case 29:return i=e.sent,e.next=32,i.json();case 32:if(u=e.sent,i.ok){e.next=35;break}throw new Error(u.message);case 35:d=new Date((new Date).getTime()+864e5),Y(c.h.authHandler({user:u.user,token:u.token,tokenExpDate:d})),localStorage.setItem("userData",JSON.stringify({user:u.user,token:u.token,expiration:d})),X("/all-boards",{replace:!0}),e.next=44;break;case 41:e.prev=41,e.t1=e.catch(25),W("Something went wrong while signing you up. Please try again later!");case 44:L(!1);case 45:case"end":return e.stop()}}),e,null,[[4,20],[25,41]])})));return function(t){return e.apply(this,arguments)}}();(0,p.useEffect)((function(){r?!j.includes("@")||O.length<5?R(!0):R(!1):!j.includes("@")||0===S.length||O.length<5||E.length<5?R(!0):R(!1)}),[r,j,S,O,E,H]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{error:Q}),(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center my-20 py-5 border-y",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4 text-blue-600",children:r?"USER LOGIN":"USER SIGNUP"}),A&&(0,b.jsx)(i.Z,{asOverlay:!0}),(0,b.jsxs)("form",{onSubmit:ee,children:[(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,b.jsx)(o.Z,{icon:(0,b.jsx)(h.g5G,{}),iconClass:"top-2.5 left-2.5",className:"mb-1 border border-slate-700 rounded-3xl p-1 pr-4 pl-12 focus:border-blue-600",onChange:function(e){k(e.target.value),J(!0)},value:j,style:{width:"30rem"},type:"email",placeholder:"email",error:G&&!j.includes("@"),errorText:"Must contain @ character!"}),!r&&(0,b.jsx)(o.Z,{icon:(0,b.jsx)(d.s60,{}),iconClass:"top-2.5 left-2.5",className:"mb-1 border border-slate-700 rounded-3xl p-1 pr-4 pl-12 focus:border-blue-600",onChange:function(e){C(e.target.value),J(!0)},value:S,style:{width:"30rem"},type:"text",placeholder:"name",error:G&&0===S.length,errorText:"Can not be empty!"}),!r&&(0,b.jsx)(o.Z,{icon:(0,b.jsx)(m.r47,{}),iconClass:"top-2.5 left-2.5",className:"mb-1 border border-slate-700 rounded-3xl p-1 pr-4 pl-12 focus:border-blue-600",onChange:function(e){P(e.target.value),J(!0)},value:E,style:{width:"30rem"},type:"text",placeholder:"username",error:G&&E.length<5,errorText:"Can not be less than 5 characters!"}),(0,b.jsx)(o.Z,{icon:(0,b.jsx)(d.z85,{}),iconClass:"top-2.5 left-2.5",className:"mb-1 border border-slate-700 rounded-3xl p-1 pr-4 pl-12 focus:border-blue-600",onChange:function(e){F(e.target.value),J(!0)},value:O,style:{width:"30rem"},type:"password",placeholder:"password",error:G&&O.length<5,errorText:"Can not be less than 5 characters!"})]}),(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,b.jsx)(l.Z,{className:"text-slate-500 mb-4 hover:text-slate-400",onClick:function(){g(!r),J(!1),R(!0),k(""),C(""),F("")},type:"button",children:r?"Don't have an account ?":"Already have an account ?"}),(0,b.jsx)(l.Z,{type:"submit",className:"rounded-lg px-6 py-2 text-black text-center font-bold ".concat(H?"bg-slate-300":"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-300 hover:to-blue-400"),disabled:H,children:r?"LOGIN":"SIGNUP"})]})]})]})]})},v=function(){return(0,b.jsx)("div",{className:"margin",children:(0,b.jsx)(g,{})})}}}]);
//# sourceMappingURL=118.f792efee.chunk.js.map
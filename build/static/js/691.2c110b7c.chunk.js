"use strict";(self.webpackChunkkanban_board=self.webpackChunkkanban_board||[]).push([[691],{6691:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var a=r(8214),s=r(5861),n=r(885),l=r(5646),o=r(5453),i=r(2791),c=r(9434),d=r(6871),u=r(184),m=["Create Date - Desc","Create Date - Asc","Alphabetical","Most Members"],h=function(e){var t=e.length,r=(0,i.useState)(m[0]),a=(0,n.Z)(r,2),s=a[0],h=a[1],x=(0,c.I0)(),f=(0,d.s0)();return(0,i.useEffect)((function(){s===m[0]?x(l.h.sortByDateDesc()):s===m[1]?x(l.h.sortByDateAsc()):s===m[2]?x(l.h.sortByAlphabetical()):x(l.h.sortByMemberNumber())}),[s,x]),(0,u.jsxs)(u.Fragment,{children:[0===t&&(0,u.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,u.jsx)("h1",{className:"text-xl font-medium text-red-600",children:"No projects found!"}),(0,u.jsx)("h2",{className:"text-lg font-normal text-red-500",children:"Click the button to create"}),(0,u.jsx)(o.Z,{type:"button",className:"mt-5 border border-red-600 py-2 px-5 rounded-md font-medium hover:bg-red-600 hover:text-white",onClick:function(){f("/boards/new")},children:"CREATE"})]}),0!==t&&(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("p",{className:"font-bold text-lg",children:["Showing ",t," ",t>1?"Projects":"Project"]}),(0,u.jsx)("select",{onChange:function(e){h(e.target.value)},className:"border border-slate-300 rounded-md font-medium text-sky-600 px-5 text-lg",children:m.map((function(e,t){return(0,u.jsx)("option",{value:e,children:e},t)}))})]})]})},x=r(95),f=r(3503),b=r(1030),p=r(7425),g=r(2950),v=function(e){var t=e.id,r=e.title,l=e.usageArea,o=e.creatorName,m=e.membersNumber,h=e.membersLength,v=e.createDate,j=e.boardPassword,y=(0,i.useState)(!1),N=(0,n.Z)(y,2),w=N[0],C=N[1],k=(0,i.useState)(""),Z=(0,n.Z)(k,2),F=Z[0],B=Z[1],T=(0,i.useState)(!1),P=(0,n.Z)(T,2),S=P[0],E=P[1],D=(0,i.useState)(!0),A=(0,n.Z)(D,2),I=A[0],_=A[1],K=(0,i.useState)(),V=(0,n.Z)(K,2),O=V[0],z=V[1],M=(0,d.s0)(),L=(0,c.v9)((function(e){return e.user})),H=(0,c.I0)();(0,i.useEffect)((function(){if(F.length<5)return _(!0);_(!1)}),[F]);var R=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(),F!==j){e.next=20;break}return e.prev=2,e.next=5,fetch("".concat("https://projectmanager-s36d.onrender.com/api","/boards/all-boards/join"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+L.token},body:JSON.stringify({boardId:t,boardPassword:F,userId:L.user.id})});case 5:return r=e.sent,e.next=8,r.json();case 8:if(s=e.sent,r.ok){e.next=11;break}throw new Error(s.message);case 11:H(g.h.addBoardToUser(t)),M("/boards/".concat(t)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),z("Something went wrong while signing you up. Please try again later!");case 18:e.next=22;break;case 20:M("/all-boards"),setTimeout((function(){z("Wrong password. Please try again!")}),[500]);case 22:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(b.Z,{error:O}),(0,u.jsx)(x.Z,{show:w,closeHandler:function(){C(!1),E(!1),_(!0),B(""),M("/all-boards")},modalTitle:"Enter Kanban Board Password",formError:I,content:(0,u.jsx)(f.Z,{label:"Kanban Password",icon:(0,u.jsx)(p.z85,{}),iconClass:"top-2.5 left-2.5",className:"mb-1 border border-slate-700 rounded-3xl p-1 pr-4 pl-12 focus:border-blue-600",onChange:function(e){B(e.target.value),E(!0)},value:F,style:{width:"21rem"},type:"password",placeholder:"Enter Password",error:S&&F.length<5,errorText:"Can not be less than 5 characters!"}),modalFunc:R,buttonText:"Enter"}),(0,u.jsxs)("div",{onClick:function(){if(o===L.user.username||L.user.memberBoards.includes(t))return M("/boards/".concat(t));C(!(h>=m)),M("/all-boards/join")},role:h>=m?"":"button",className:"my-5 bg-slate-200 p-10 rounded-lg hover:bg-slate-300",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("p",{className:"text-2xl font-semibold",children:r}),(0,u.jsx)("p",{className:"text-md font-semibold text-red-700",children:h>=m?"Full":""})]}),(0,u.jsx)("p",{className:"font-medium",children:l}),(0,u.jsxs)("div",{className:"text-gray-600 flex flex-row font-medium",children:[(0,u.jsx)("p",{className:"mr-5",children:o}),"\u2022",(0,u.jsx)("p",{className:"mx-5",children:m}),"\u2022",(0,u.jsx)("p",{className:"ml-5",children:v})]})]})]})},j=r(3728),y=function(){var e=(0,i.useState)(""),t=(0,n.Z)(e,2),r=t[0],a=t[1],s=(0,c.I0)();return(0,i.useEffect)((function(){s(l.h.searchBoards(""))}),[s]),(0,u.jsx)("div",{className:"my-10 pl-5 rounded-lg bg-slate-200 font-semibold text-lg",children:(0,u.jsx)(f.Z,{icon:(0,u.jsx)(j.Vph,{}),iconClass:"h-16 flex justify-center items-center",className:"p-1 pr-4 pl-8 bg-slate-200 h-16",style:{width:"80%"},type:"text",placeholder:"Search Projects",onChange:function(e){a(e.target.value),s(l.h.searchBoards(e.target.value))},value:r})})},N=r(3098),w=function(){var e=(0,i.useState)(!1),t=(0,n.Z)(e,2),r=t[0],o=t[1],d=(0,i.useState)(),m=(0,n.Z)(d,2),x=m[0],f=m[1],p=(0,c.v9)((function(e){return e.board})),g=(0,c.I0)();return(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,fetch("".concat("https://projectmanager-s36d.onrender.com/api","/boards/all-boards"));case 4:return t=e.sent,e.next=7,t.json();case 7:if(r=e.sent,t.ok){e.next=10;break}throw new Error(r.message);case 10:g(l.h.setAllBoards(r)),g(l.h.sortByDateDesc()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),f("Something went wrong while fetching board datas. Please try again later!");case 17:o(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[g]),(0,u.jsxs)("div",{className:"margin",children:[(0,u.jsx)(b.Z,{error:x}),(0,u.jsxs)("div",{className:"pb-5",children:[r&&(0,u.jsx)(N.Z,{asOverlay:!0}),(0,u.jsx)(y,{}),p.allBoards&&""===p.searchKey&&(0,u.jsx)(h,{length:p.allBoards.length}),""!==p.searchKey&&(0,u.jsx)(h,{length:p.searchedBoards.length}),p.allBoards&&""===p.searchKey&&p.allBoards.map((function(e){return(0,u.jsx)(v,{id:e.id,title:e.title,usageArea:e.usageArea,creatorName:e.creatorName,membersNumber:e.membersNumber,membersLength:e.members.length,createDate:e.createDate,boardPassword:e.boardPassword},e.id)})),p.searchKey.length>0&&0===p.searchedBoards.length&&(0,u.jsx)("p",{className:"text-center mt-20 text-blue-600 font-bold text-3xl",children:"Board Not Found!"}),p.allBoards&&p.searchedBoards.map((function(e){return(0,u.jsx)(v,{id:e.id,title:e.title,usageArea:e.usageArea,creatorName:e.creatorName,membersNumber:e.membersNumber,membersLength:e.members.length,createDate:e.createDate,boardPassword:e.boardPassword},e.id)}))]})]})}},5453:function(e,t,r){var a=r(184);t.Z=function(e){var t=e.type,r=e.className,s=e.onClick,n=e.disabled,l=e.style,o=e.children;return(0,a.jsx)("button",{type:t,className:r,onClick:s,style:l||null,disabled:n||null,children:o})}},1030:function(e,t,r){r.d(t,{Z:function(){return c}});var a=r(885),s=r(7175),n=r(535),l=r(2791),o=r(184),i=function(e){var t=e.header,r=e.text,i=(0,l.useState)(!0),c=(0,a.Z)(i,2),d=c[0],u=c[1];function m(){u(!1)}return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.u,{appear:!0,show:d,as:l.Fragment,children:(0,o.jsxs)(n.V,{as:"div",className:"relative z-10",onClose:m,children:[(0,o.jsx)(s.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,o.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,o.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,o.jsx)(s.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,o.jsxs)(n.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,o.jsx)(n.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:t}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("p",{className:"text-sm text-gray-500",children:r})}),(0,o.jsx)("div",{className:"mt-4",children:(0,o.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:m,children:"OK"})})]})})})})]})})})},c=function(e){var t=e.error;return(0,o.jsx)(o.Fragment,{children:t&&(0,o.jsx)(i,{header:"Error!",text:t})})}},3503:function(e,t,r){r.d(t,{Z:function(){return l}});var a="Input_input__q9IRk",s="Input_icon__pvUOM",n=r(184),l=function(e){var t=e.label,r=e.icon,l=e.className,o=e.onChange,i=e.value,c=e.iconClass,d=e.style,u=e.type,m=e.min,h=e.max,x=e.placeholder,f=e.error,b=e.errorText;return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)("div",{className:"mb-2 mt-4 font-semibold",children:(0,n.jsx)("label",{children:t})}),(0,n.jsxs)("div",{className:a,children:[(0,n.jsx)("div",{className:"".concat(s," ").concat(c),children:r}),(0,n.jsx)("input",{className:l,onChange:o,value:i,style:d,type:u,min:m,max:h,placeholder:x}),f&&(0,n.jsx)("p",{className:"text-sm text-red-600 ml-3",children:b})]})]})}},95:function(e,t,r){var a=r(7175),s=r(535),n=r(2791),l=r(5453),o=r(184);t.Z=function(e){var t=e.show,r=e.closeHandler,i=e.formError,c=e.content,d=e.modalTitle,u=e.modalFunc,m=e.buttonText;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.u,{appear:!0,show:t,as:n.Fragment,children:(0,o.jsxs)(s.V,{as:"div",className:"relative z-10",onClose:r,children:[(0,o.jsx)(a.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,o.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,o.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,o.jsx)(a.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,o.jsxs)(s.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,o.jsx)(s.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-blue-600",children:d}),(0,o.jsx)("div",{className:"mt-4",children:c}),(0,o.jsxs)("div",{className:"mt-2",children:[m&&(0,o.jsx)(l.Z,{type:"button",className:"inline-flex justify-center rounded-md border border-transparent  px-4 py-2 mr-5 text-sm font-medium ".concat(i?"bg-slate-300":"bg-blue-100 text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"),onClick:function(){u(),r()},disabled:i,children:m}),(0,o.jsx)(l.Z,{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:r,children:"Close"})]})]})})})})]})})})}}}]);
//# sourceMappingURL=691.2c110b7c.chunk.js.map